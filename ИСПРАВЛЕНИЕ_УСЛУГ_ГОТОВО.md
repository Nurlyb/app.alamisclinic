# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "–û—Ç–¥–µ–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —É—Å–ª—É–≥–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π —É—Å–ª—É–≥–∏, –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –æ—Ç–¥–µ–ª–µ–Ω–∏—è, –ø–æ—è–≤–ª—è–ª–∞—Å—å –æ—à–∏–±–∫–∞ "–û—Ç–¥–µ–ª–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ".

## –ü—Ä–∏—á–∏–Ω–∞

–§—É–Ω–∫—Ü–∏—è `extractIdFromUrl` –≤ —Ñ–∞–π–ª–µ `lib/utils/url.ts` –∏–∑–≤–ª–µ–∫–∞–ª–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–µ–≥–º–µ–Ω—Ç URL. –î–ª—è URL –≤–∏–¥–∞ `/api/departments/[id]/categories` –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `"categories"` –≤–º–µ—Å—Ç–æ ID –æ—Ç–¥–µ–ª–µ–Ω–∏—è.

```typescript
// –ë—ã–ª–æ:
export function extractIdFromUrl(url: string): string {
  const pathParts = new URL(url).pathname.split('/');
  return pathParts[pathParts.length - 1]; // –í–æ–∑–≤—Ä–∞—â–∞–ª–æ "categories"
}
```

## –†–µ—à–µ–Ω–∏–µ

1. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `extractIdFromUrl`** - –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `fromEnd` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ —Å–µ–≥–º–µ–Ω—Ç–∞ —Å –∫–æ–Ω—Ü–∞:

```typescript
// –°—Ç–∞–ª–æ:
export function extractIdFromUrl(url: string, fromEnd: number = 1): string {
  const pathParts = new URL(url).pathname.split('/').filter(Boolean);
  return pathParts[pathParts.length - fromEnd];
}
```

2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω API `/api/departments/[id]/categories`** - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å:

```typescript
// –ë—ã–ª–æ:
const id = extractIdFromUrl(request.url); // –í–æ–∑–≤—Ä–∞—â–∞–ª–æ "categories"

// –°—Ç–∞–ª–æ:
const id = extractIdFromUrl(request.url, 2); // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç ID –æ—Ç–¥–µ–ª–µ–Ω–∏—è
```

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `lib/utils/url.ts` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `extractIdFromUrl`
2. `app/api/departments/[id]/categories/route.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ ID

## –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —É—Å–ª—É–≥–∏ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ  
‚úÖ –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –±–µ–∑ –æ—à–∏–±–æ–∫  
‚úÖ –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —É—Å–ª—É–≥–∏  

## –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π http://185.129.49.186:8888
2. –í–æ–π–¥–∏ –∫–∞–∫ –≤–ª–∞–¥–µ–ª–µ—Ü (+77001234567 / clinic123)
3. –ü–µ—Ä–µ–π–¥–∏ –≤ —Ä–∞–∑–¥–µ–ª "–£—Å–ª—É–≥–∏"
4. –ù–∞–∂–º–∏ "–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É"
5. –í—ã–±–µ—Ä–∏ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
6. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –∏ —Å–æ–∑–¥–∞–π —É—Å–ª—É–≥—É

## –î–µ–ø–ª–æ–π

–ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
- –ö–æ–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω: `npm run build`
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ: `pm2 restart alamis-clinic`
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –≤ GitHub

## –ì–æ—Ç–æ–≤–æ! üéâ

–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —É—Å–ª—É–≥–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.
